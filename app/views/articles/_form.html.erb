<%= simple_form_for(@article) do |foo| %>
  <%= foo.error_notification %>

  <%= foo.error_notification message: foo.object.errors[:base].to_sentence if foo.object.errors[:base].present? %>
  <ul>
    <% @article.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>

  <div class="form-inputs">
    <div class="field">
      <div class="control">
        <%= foo.input :title,
                    required: true,
                    autofocus: true,
                    input_html: { class: 'input' },
                    wrapper: false,
                    label_html: { class: 'label' }
        %>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <%= foo.input :image,
                    as: :file,
                    required: true,
                    wrapper: false,
                    label_html: { class: 'label' }
        %>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <%= foo.input :text,
                    required: true,
                    input_html: { class: 'textarea' },
                    wrapper: false,
                    label_html: { class: 'label' }
        %>
      </div>
    </div>

    <% if @categories.present? %>  
    <div class="field">
      <label class="label">Category</label>
      <div class="control">
        <span class="checkbox">
          <%= foo.collection_check_boxes :category_ids, 
                                        Category.all,
                                        :id,
                                        :name,
                                        label_html: { class: 'label checkbox' }
          %>
        </span>
      </div>
    </div>
    <% end %>

    
    <%= hide_form(@categories, foo) %>

  </div>

  <div class="form-actions">
    <%= foo.button :submit, class: "button is-info" %>
  </div>
<% end %>
<br />